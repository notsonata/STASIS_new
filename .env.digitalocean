# STASIS DigitalOcean Environment Configuration
# Copy this file to .env and update the values for your deployment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database Settings
POSTGRES_DB=stasis
POSTGRES_USER=postgres
# IMPORTANT: Change this to a strong password for production
POSTGRES_PASSWORD=your_very_secure_password_here

# =============================================================================
# SPRING BOOT BACKEND CONFIGURATION
# =============================================================================

# Database Connection for Spring Boot
SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/stasis
SPRING_DATASOURCE_USERNAME=postgres
SPRING_DATASOURCE_PASSWORD=your_very_secure_password_here

# Active Profiles (use 'production' for DigitalOcean deployment)
SPRING_PROFILES_ACTIVE=production

# Server Configuration
SERVER_PORT=8080

# =============================================================================
# DIGITALOCEAN SPECIFIC CONFIGURATION
# =============================================================================

# Your DigitalOcean Droplet IP (update after creating droplet)
DROPLET_IP=your.droplet.ip.here

# Frontend URL (update with your domain or droplet IP)
FRONTEND_URL=http://your.droplet.ip.here

# Backend API URL for frontend
REACT_APP_API_URL=http://your.droplet.ip.here:8080/api

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Secret Key (generate a strong random key)
JWT_SECRET=your_jwt_secret_key_change_this_in_production

# Session Secret (generate a strong random key)
SESSION_SECRET=your_session_secret_change_this_in_production

# CORS Origins (update with your frontend domain)
CORS_ALLOWED_ORIGINS=http://your.droplet.ip.here,https://your.domain.com

# =============================================================================
# SSL/TLS CONFIGURATION (for HTTPS)
# =============================================================================

# Set to true if using HTTPS
USE_HTTPS=false

# SSL Certificate paths (if using HTTPS)
SSL_CERT_PATH=/etc/letsencrypt/live/your.domain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/your.domain.com/privkey.pem

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Log Level (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO

# Log File Path
LOG_FILE_PATH=/opt/stasis/logs/stasis.log

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup Directory
BACKUP_DIR=/opt/backups

# Database Backup Retention (days)
BACKUP_RETENTION_DAYS=7

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# JVM Memory Settings
JAVA_OPTS=-Xms512m -Xmx768m -Djava.net.preferIPv4Stack=true

# Database Connection Pool Settings
SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=10
SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=5
SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT=20000

# =============================================================================
# DIGITALOCEAN SERVICES INTEGRATION
# =============================================================================

# DigitalOcean Spaces (for file storage) - Optional
DO_SPACES_KEY=your_spaces_access_key
DO_SPACES_SECRET=your_spaces_secret_key
DO_SPACES_ENDPOINT=https://your-region.digitaloceanspaces.com
DO_SPACES_BUCKET=your-bucket-name

# DigitalOcean Monitoring - Optional
DO_MONITORING_ENABLED=false

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================

# SMTP Settings for email notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM_EMAIL=noreply@yourdomain.com

# =============================================================================
# ADDITIONAL ENVIRONMENT VARIABLES
# =============================================================================

# Time Zone
TZ=UTC

# Node Environment (for frontend)
NODE_ENV=production

# React Build Environment
GENERATE_SOURCEMAP=false

# =============================================================================
# DEPLOYMENT SPECIFIC SETTINGS
# =============================================================================

# Deployment Type (droplet, app-platform, k8s)
DEPLOYMENT_TYPE=droplet

# Health Check URLs
HEALTH_CHECK_BACKEND_URL=http://localhost:8080/actuator/health
HEALTH_CHECK_FRONTEND_URL=http://localhost/health

# =============================================================================
# INSTRUCTIONS
# =============================================================================

# 1. Copy this file to .env: cp .env.digitalocean .env
# 2. Update all "your_*" placeholders with actual values
# 3. Generate strong passwords and secrets
# 4. Update IP addresses and domain names
# 5. Configure SSL certificates if using HTTPS
# 6. Test configuration before production deployment

# Security Notes:
# - Never commit .env files to version control
# - Use strong, unique passwords for all services
# - Regularly rotate secrets and passwords
# - Enable firewall and security updates on your droplet
# - Consider using DigitalOcean's VPC for network isolation
